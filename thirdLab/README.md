# Лабораторная работа №3

## Задание

  1. Написать “плохой” CI/CD файл, который работает, но в нем есть не менее пяти “bad practices” по написанию CI/CD
  2. Написать “хороший” CI/CD, в котором эти плохие практики исправлены
  3. В Readme описать каждую из плохих практик в плохом файле, почему она плохая и как в хорошем она была исправлена, как исправление повлияло на результат
  4. Прочитать историю про Васю (она быстрая, забавная и того стоит): https://habr.com/ru/articles/689234/

## Плохой CI/CD файл

![Screenshot 2024-12-24 231023](https://github.com/user-attachments/assets/de53f8e7-2700-4b8c-8e73-7ba07958f629)

### Файл запускается:

![Screenshot 2024-12-24 231345](https://github.com/user-attachments/assets/7ba158f0-3e0a-455d-9292-ea08924c832b)

### Плохие практики:

1. Отсутствие кэширования зависимостей  
   Проблема: Каждый раз, когда запускается сборка, зависимости (например, `node_modules`) загружаются заново. Это замедляет сборку.  
   Решение: В исправленном файле добавлено кэширование зависимостей, что позволяет избежать их повторной загрузки.

2. Устаревшая версия v1 для actions/checkout  
   Проблема: В плохом файле используется v1, которая больше не поддерживается и может вызвать проблемы с безопасностью и совместимостью.  
   Решение: В исправленном файле используется последняя версия actions/checkout@v3, с которой ошибок возникнуть не должно.

3. Использование sudo для установки зависимостей 
   Проблема: В плохом файле используется sudo apt-get install для установки nodejs и npm, что сильно замедляет весь процесс.  
   Решение: В хорошем файле использован actions/setup-node@v3 для установки Node.js и npm. Это позволяет быстро и правильно установить и настроить среду для работы с Node.js.

4. Отсутствие таймаутов и других механизмов управления ресурсами 
   Проблема: Переход в sleep 5 может привести к неэффективности, особенно если это занимает много времени.  
   Решение: В хорошем файле удалён sleep 5 и добавлен таймаут для сборки.

5. Использование ubuntu-latest
   Проблема: Ubuntu-latest может обновляться и будут проблемы с совместимостью.
   Решение: Заменили ubuntu-latest на конкретную версию ubuntu-22.04, чтобы избежать возможных проблем с изменениями в будущих версиях ubuntu-latest.

## Хороший CI/CD файл

![Screenshot 2024-12-24 235037](https://github.com/user-attachments/assets/be2bde8e-07ef-435a-889b-9a7a43882e8d)

### Файл запускается:

![Screenshot 2024-12-24 235002](https://github.com/user-attachments/assets/798e9664-cbc7-48c1-842d-66d0fb4b9baf)

## Хорошие практики написаны под каждой плохой

### История про Васю супер, на самом деле, очень поучительная)
## Лабораторная работа окончена, спасибо за внимание!
