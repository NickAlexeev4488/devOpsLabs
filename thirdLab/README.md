# Лабораторная работа №3

## Задание

  1. Написать “плохой” CI/CD файл, который работает, но в нем есть не менее пяти “bad practices” по написанию CI/CD
  2. Написать “хороший” CI/CD, в котором эти плохие практики исправлены
  3. В Readme описать каждую из плохих практик в плохом файле, почему она плохая и как в хорошем она была исправлена, как исправление повлияло на результат
  4. Прочитать историю про Васю (она быстрая, забавная и того стоит): https://habr.com/ru/articles/689234/

## Плохой CI/CD файл

![Screenshot 2024-10-20 214811](https://github.com/user-attachments/assets/1ba0c4fc-afcd-4e0e-a179-5e78308d4e56)

### Плохие практики:

1. Отсутствие кэширования зависимостей  
   Проблема: Каждый раз, когда запускается сборка, зависимости (например, `node_modules`) загружаются заново. Это замедляет сборку.  
   Решение: В исправленном файле добавлено кэширование зависимостей, что позволяет избежать их повторной загрузки.

2. Неявное окружение сборки  
   Проблема: В плохом файле не указана версия Node.js или окружение, что может привести к ошибкам при выполнении на разных платформах.  
   Решение: В исправленном файле используется Docker-образ с конкретной версией Node.js, что делает процесс воспроизводимым.

3. Деплой на production из любой ветки  
   Проблема: В плохом файле деплой происходит напрямую на production без указания, из какой ветки это происходит, что может привести к ошибкам.  
   Решение: В хорошем файле деплой разрешён только из ветки `main`, что предотвращает случайные деплои.

4. Прямое использование SCP  
   Проблема: SCP используется для деплоя на сервер, что нестабильно и небезопасно.  
   Решение: В хорошем файле деплой выполняется с использованием `docker-compose`, что обеспечивает более управляемый и надёжный процесс.

5. Отсутствие параллелизма  
   Проблема: Тесты и деплой выполняются последовательно, что замедляет процесс.  
   Решение: В исправленном файле тесты запускаются параллельно, что ускоряет процесс CI.

## Хороший CI/CD файл

![Screenshot 2024-10-20 215552](https://github.com/user-attachments/assets/1ee3bdd8-3be1-457f-906f-66ead9b7a3b4)

## Хорошие практики написаны под каждой плохой

### История про Васю супер, на самом деле, очень поучительная)
## Лабораторная работа окончена, спасибо за внимание!
