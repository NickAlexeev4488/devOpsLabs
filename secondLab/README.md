# Лабораторная работа №2

## Задание:
  1. Написать “плохой” Dockerfile, в котором есть не менее трех “bad practices” по написанию докерфайлов
  2. Написать “хороший” Dockerfile, в котором эти плохие практики исправлены
  3. В Readme описать каждую из плохих практик в плохом докерфайле, почему она плохая и как в хорошем она была исправлена, как исправление повлияло на результат
  4. В Readme описать 2 плохих практики по работе с контейнерами. ! Не по написанию докерфайлов, а о том, как даже используя хороший докерфайл можно накосячить именно в работе с контейнерами.

## Выполнение работы:

Сначала создаем простейший python файл, с которым будем работать:

![Screenshot 2024-10-20 142245](https://github.com/user-attachments/assets/08b96d94-4c58-4886-89b5-853db3c4873c)

Затем пишем плохой Докерфайл:

![Screenshot 2024-10-20 212215](https://github.com/user-attachments/assets/bb3dadb7-1bd3-467e-ad1c-db7f094d6255)

При чем он запускается:

![Screenshot 2024-10-20 205413](https://github.com/user-attachments/assets/23e1a8a4-528c-455a-abe6-48f9993d796d)
![Screenshot 2024-10-20 210018](https://github.com/user-attachments/assets/85cda34e-70f2-4226-8935-ee935faf5092)

Пишем хороший Докерфайл:

![Screenshot 2024-10-20 212004](https://github.com/user-attachments/assets/219a236f-d579-4a8c-a70b-d90aa81b502f)

Он тоже запускается)

![Screenshot 2024-10-20 143416](https://github.com/user-attachments/assets/e2cdf461-a5bb-49ac-afdd-c31352315d8e)
![Screenshot 2024-10-20 143356](https://github.com/user-attachments/assets/91820241-ae9e-4352-99cb-6ae095b6b6c7)

### Плохие практики:
  1. В плохом Dockerfile используется ubuntu:latest, который содержит много ненужных для приложения компонентов. Это значительно увеличивает размер образа, что замедляет сборку, передачу по сети и загрузку контейнеров.
  2. В плохом Dockerfile контейнер работает от имени root пользователя, что представляет собой угрозу безопасности, так как у приложения будет доступ ко всем системным ресурсам.
  3. В плохем Dockerfile используется ADD вместо COPY, что может привезти к неожиданным ситуациям, так как например ADD самостоятельно распаковывает архивы и складывает их в папку, в то время как COPY просто скопирует все, что вы ему дали.
  4. В плохом Dockerfile файлы копируются в корневую директорию (/), что создает хаос и усложняет управление приложением.

### Хорошие практики:
 1. В хорошем Dockerfile используется более легкий базовый образ ubuntu:20.04 что уменьшает размер контейнера.
 2. В хорошем Dockerfile создан и используется отдельный пользователь appuser, что ограничивает права доступа и уменьшает риски при эксплуатации контейнера.
 3. В хорошем Dockerfile используется COPY вместо ADD, почему это лучше, уже описал.
 4. В хорошем Dockerfile используется явная рабочая директория /app, что упрощает структуру файлов и улучшает читаемость.

### Плохие практики даже при работе с хорошим контейнером:
  1. Запуск контейнеров без ограничения ресурсов, если контейнеру не заданы ограничения по ресурсам (например, память и CPU), он может использовать все доступные ресурсы хост-системы, что может привести к нестабильности и снижению производительности других приложений. Без лимитов, контейнер может съесть всю память или процессорное время, что негативно скажется на производительности всей системы.
  2. Запуск несольких процессов в одном контейнере, так будет нарушаться изоляция процессов и "читаемость".
